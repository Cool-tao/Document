##### 原子性  

什么是原子性？    
即一个操作或者多个操作 要么全部执行并且执行的过程不会被任何因素打断，要么就都不执行。  

JMM规定的原子性有哪些？  
在Java中，只有 对基础数据类型的变量 的 直接读写操作，是 原子性操作；  
例如：  
int x, y;    
x = 10;  //语句1  
y = x;  //语句2  
x++;  //语句3  
x = x+1;  //语句4  
以上只有 语句1  的操作时原子性的，是属于对基础数据类型的 直接读写操作；    
语句2  有两步操作：读取x数值，写入y的数值；  
语句3  有两步操作的，读取x的数值，写入新的数值；  
语句4  有两步操作的，读取x的数值，写入新的数值；  

在Java中，JMM保证的原子性操作，范围非常小，如果要实现更大范围的原子性操作，可以通过 synchronized 或者 lock 来实现；  
由于 synchronized 和 lock 能够在保证在某一时刻，只有一个线程执行该代码块，故此操作不会出现并发修改的问题，从而保证了原子性。  

JMM的原子性有一个规则，如果在读取一个变量时，这个数值是由某一个其他线程写入，而不是由其他多个线程并发写入，这个时候，JVM本身不需要关心数据是来自什么线程；  
原子性就是原子级别的操作，比如最小内存块的读写操作，可以理解为native的读写操作；  

